<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quick Tax - Professional Accounting & Taxation Services</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Added Chart.js -->
  <style>
    /* Base Styles & Variables (Modern Theme - Updated Colors) */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary: #007BFF; /* Royal Blue */
      --primary-dark: #0056b3;
      --secondary: #E9ECEF; /* Light Gray for backgrounds */
      --accent: #28A745; /* Vibrant Green */
      --whatsapp: #25D366;
      --whatsapp-dark: #1DA851;
      --text: #343A40; /* Dark Charcoal for text */
      --text-light: #6C757D; /* Medium Gray for secondary text */
      --white: #FFFFFF;
      --gray-100: #F8F9FA;
      --gray-200: #DEE2E6;
      --success: #28A745;
      --error: #DC3545;
      --warning: #FFC107;
      --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.12);
      --gradient: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
      --border-radius-sm: 8px;
      --border-radius-md: 12px;
      --border-radius-lg: 20px;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
      line-height: 1.6;
      color: var(--text);
      background: var(--white);
      overflow-x: hidden;
      font-size: 16px;
      transition: background 0.4s ease, color 0.4s ease;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Advanced Animations */
    @keyframes fadeInScale {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }

    @keyframes slideInUp {
      from { opacity: 0; transform: translateY(50px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0.7); }
      70% { box-shadow: 0 0 0 10px rgba(37, 211, 102, 0); }
      100% { box-shadow: 0 0 0 0 rgba(37, 211, 102, 0); }
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @keyframes float {
      0% { transform: translate(0, 0); }
      50% { transform: translate(10px, 10px); }
      100% { transform: translate(0, 0); }
    }

    /* Page Loader */
    #page-loader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--primary);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.8s ease-out, visibility 0.8s ease-out;
    }

    #page-loader.hidden {
      opacity: 0;
      visibility: hidden;
    }

    #page-loader .spinner {
      width: 60px;
      height: 60px;
      border: 6px solid rgba(255, 255, 255, 0.3);
      border-top: 6px solid var(--white);
      border-radius: 50%;
      animation: spin 1.2s linear infinite;
    }

    /* Navigation */
    nav {
      position: fixed;
      top: 0;
      width: 100%;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(15px);
      z-index: 1000;
      padding: 0.8rem 0;
      transition: all 0.3s ease;
      border-bottom: 1px solid var(--gray-200);
    }

    nav.scrolled {
      box-shadow: var(--shadow);
      background: rgba(255, 255, 255, 0.98);
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: 1.6rem;
      font-weight: 700;
      color: var(--primary);
      text-decoration: none;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.6rem;
    }

    .logo:hover {
      color: var(--primary-dark);
      transform: scale(1.02);
    }

    .logo i {
      font-size: 2rem;
    }

    .nav-links {
      display: flex;
      list-style: none;
      gap: 2.5rem;
    }

    .nav-links a {
      text-decoration: none;
      color: var(--text);
      font-weight: 500;
      transition: all 0.2s ease-out;
      padding: 0.4rem 0.8rem;
      border-radius: var(--border-radius-sm);
      position: relative;
    }

    .nav-links a::before {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 50%;
      width: 0;
      height: 2px;
      background: var(--primary);
      transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      transform: translateX(-50%);
    }

    .nav-links a:hover {
      color: var(--primary);
      background: var(--gray-100);
    }

    .nav-links a:hover::before {
      width: 100%;
    }

    .mobile-menu {
      display: none;
      flex-direction: column;
      cursor: pointer;
      padding: 0.5rem;
    }

    .mobile-menu span {
      width: 25px;
      height: 3px;
      background: var(--text);
      margin: 3px 0;
      transition: 0.3s;
      border-radius: 2px;
    }

    /* Hero Section */
    .hero {
      background: var(--gradient);
      color: var(--white);
      padding: 160px 2rem 120px;
      text-align: center;
      position: relative;
      overflow: hidden;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><radialGradient id="a" cx="50%" cy="50%" r="50%"><stop offset="0%" stop-color="white" stop-opacity="0.1"/><stop offset="100%" stop-color="white" stop-opacity="0"/></radialGradient></defs><circle cx="200" cy="300" r="100" fill="url(%23a)"/><circle cx="800" cy="200" r="150" fill="url(%23a)"/><circle cx="600" cy="700" r="120" fill="url(%23a)"/></svg>');
      animation: float 20s ease-in-out infinite;
      opacity: 0.3;
      background-size: cover; /* Ensure the pattern covers the area */
    }

    .hero-content {
      max-width: 900px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
      animation: fadeInScale 1s ease-out;
    }

    .hero h1 {
      font-size: 4.5rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      line-height: 1.1;
      background: linear-gradient(45deg, #ffffff, #e2e8f0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero p {
      font-size: 1.4rem;
      margin-bottom: 2.5rem;
      opacity: 0.95;
    }

    .hero-buttons {
      display: flex;
      gap: 1.2rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    .cta-button {
      display: inline-flex;
      align-items: center;
      gap: 0.6rem;
      background: var(--white);
      color: var(--primary);
      padding: 1.1rem 2.2rem;
      border-radius: var(--border-radius-md);
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      box-shadow: var(--shadow);
      border: none;
    }

    .cta-button:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-lg);
      background: var(--primary);
      color: var(--white);
    }

    .cta-button.secondary {
      background: transparent;
      color: var(--white);
      border: 1px solid rgba(255, 255, 255, 0.6);
    }

    .cta-button.secondary:hover {
      background: rgba(255, 255, 255, 0.1);
      color: var(--white);
      border-color: var(--white);
    }

    .cta-button.whatsapp {
      background: var(--whatsapp);
      color: var(--white);
    }

    .cta-button.whatsapp:hover {
      background: var(--whatsapp-dark);
    }

    /* WhatsApp Floating Button */
    .whatsapp-float {
      position: fixed;
      bottom: 25px;
      right: 25px;
      width: 65px;
      height: 65px;
      background: var(--whatsapp);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--white);
      font-size: 1.8rem;
      text-decoration: none;
      box-shadow: var(--shadow-lg);
      z-index: 1000;
      animation: pulse 2s infinite;
    }

    .whatsapp-float:hover {
      transform: scale(1.1);
      background: var(--whatsapp-dark);
      box-shadow: 0 0 15px rgba(37, 211, 102, 0.6);
    }

    /* Section Styles */
    section {
      padding: 100px 2rem;
      max-width: 1200px;
      margin: 0 auto;
    }

    .section-header {
      text-align: center;
      margin-bottom: 4rem;
    }

    .section-header h2 {
      font-size: 3.2rem;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 1rem;
      position: relative;
      display: inline-block;
    }

    .section-header h2::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      width: 60px;
      height: 4px;
      background: var(--gradient);
      transform: translateX(-50%);
      border-radius: 2px;
    }

    .section-header p {
      font-size: 1.2rem;
      color: var(--text-light);
      max-width: 600px;
      margin: 0 auto;
    }

    /* Cards Grid */
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }

    .card {
      background: var(--white);
      padding: 2.5rem;
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow);
      transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 0.4s ease, background 0.3s ease;
      border: 1px solid var(--gray-100);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--gradient);
      transform: scaleX(0);
      transition: transform 0.4s ease;
    }

    .card:hover::before {
      transform: scaleX(1);
    }

    .card:hover {
      transform: translateY(-8px) scale(1.01);
      box-shadow: var(--shadow-lg);
    }

    .card h3 {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--text);
    }

    .card p {
      color: var(--text-light);
      line-height: 1.7;
    }

    /* Services Section */
    .services {
      background: var(--secondary);
    }

    .service-icon {
      width: 60px;
      height: 60px;
      background: var(--gradient);
      border-radius: var(--border-radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.5rem;
      color: var(--white);
      font-size: 1.8rem;
      transition: all 0.3s ease;
    }

    .card:hover .service-icon {
      transform: scale(1.1) rotate(5deg);
    }

    /* Stats Section */
    .stats {
      background: var(--text);
      color: var(--white);
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .stats::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--gradient);
      opacity: 0.08;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 3rem;
      position: relative;
      z-index: 1;
    }

    .stat-item {
      padding: 2rem;
      border-radius: var(--border-radius-md);
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }

    .stat-item:hover {
      transform: translateY(-5px);
      background: rgba(255, 255, 255, 0.15);
    }

    .stat-item h3 {
      font-size: 3.8rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      color: var(--accent);
    }

    .stat-item p {
      font-size: 1.2rem;
      opacity: 0.9;
    }

    /* Contact Section */
    .contact {
      background: var(--gray-100);
    }

    .contact-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 4rem;
      align-items: start;
    }

    .contact-info h3 {
      font-size: 1.8rem;
      margin-bottom: 1.5rem;
      color: var(--text);
    }

    .contact-info p {
      margin-bottom: 2rem;
      color: var(--text-light);
      font-size: 1.1rem;
    }

    .contact-item {
      display: flex;
      align-items: center;
      margin-bottom: 1.5rem;
      padding: 1rem;
      background: var(--white);
      border-radius: var(--border-radius-md);
      box-shadow: var(--shadow);
      transition: all 0.3s ease;
    }

    .contact-item:hover {
      transform: translateX(5px);
      box-shadow: var(--shadow-lg);
    }

    .contact-item .icon {
      background: var(--gradient);
      color: var(--white);
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 1rem;
      font-size: 1.2rem;
    }

    .contact-item a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 500;
    }

    .contact-item a:hover {
      color: var(--primary-dark);
    }

    .contact-form {
      background: var(--white);
      padding: 3rem;
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow);
      position: relative;
    }

    .contact-form h3 {
      font-size: 1.8rem;
      margin-bottom: 2rem;
      color: var(--text);
    }

    .form-group {
      margin-bottom: 1.5rem;
      position: relative;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: var(--text);
    }

    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 1rem;
      border: 1px solid var(--gray-200);
      border-radius: var(--border-radius-sm);
      font-size: 1rem;
      transition: all 0.3s ease;
      background: var(--white);
      color: var(--text);
    }

    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
    }

    .form-group .error {
      border-color: var(--error);
    }

    .form-group .success {
      border-color: var(--success);
    }

    .form-validation {
      font-size: 0.9rem;
      margin-top: 0.5rem;
      padding: 0.5rem;
      border-radius: 4px;
      display: none;
    }

    .form-validation.error {
      background: rgba(220, 53, 69, 0.1);
      color: var(--error);
      display: block;
    }

    .form-validation.success {
      background: rgba(40, 167, 69, 0.1);
      color: var(--success);
      display: block;
    }

    .submit-btn {
      background: var(--gradient);
      color: var(--white);
      padding: 1rem 2rem;
      border: none;
      border-radius: var(--border-radius-sm);
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    .submit-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    .submit-btn .spinner {
      width: 20px;
      height: 20px;
      border: 2px solid transparent;
      border-top: 2px solid var(--white);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      display: none;
    }

    .submit-btn.loading .spinner {
      display: block;
    }

    /* Footer */
    footer {
      background: var(--text);
      color: var(--white);
      padding: 4rem 2rem 2rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--gradient);
      opacity: 0.05;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 3rem;
      margin-bottom: 3rem;
      position: relative;
      z-index: 1;
    }

    .footer-section h3 {
      margin-bottom: 1.5rem;
      color: var(--accent);
      font-size: 1.3rem;
    }

    .footer-section p,
    .footer-section a {
      color: rgba(255, 255, 255, 0.8);
      text-decoration: none;
      line-height: 1.7;
      transition: all 0.3s ease;
    }

    .footer-section a:hover {
      color: var(--white);
      transform: translateX(5px);
    }

    .footer-bottom {
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      padding-top: 2rem;
      opacity: 0.8;
      position: relative;
      z-index: 1;
    }

    /* Notification */
    .notification {
      position: fixed;
      top: 100px;
      right: 20px;
      background: var(--success);
      color: var(--white);
      padding: 1rem 2rem;
      border-radius: var(--border-radius-sm);
      box-shadow: var(--shadow-lg);
      z-index: 1001;
      transform: translateX(400px);
      transition: all 0.3s ease;
    }

    .notification.show {
      transform: translateX(0);
    }

    .notification.error {
      background: var(--error);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }

      .mobile-menu {
        display: flex;
      }

      .hero h1 {
        font-size: 2.8rem;
      }

      .hero p {
        font-size: 1.2rem;
      }

      .hero-buttons {
        flex-direction: column;
        align-items: center;
      }

      .section-header h2 {
        font-size: 2.2rem;
      }

      .cards-grid {
        grid-template-columns: 1fr;
      }

      .contact-content {
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .footer-content {
        grid-template-columns: 1fr;
        text-align: center;
      }

      .whatsapp-float {
        width: 55px;
        height: 55px;
        font-size: 1.5rem;
      }
    }

    /* Smooth Scroll */
    html {
      scroll-behavior: smooth;
    }

    /* Loading Animation for sections */
    .loading-section {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 1s ease-out, transform 1s ease-out;
    }

    /* Quick Action Buttons */
    .quick-actions {
      display: flex;
      gap: 1rem;
      justify-content: center;
      margin-top: 2rem;
      flex-wrap: wrap;
    }

    .quick-action {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.8rem 1.5rem;
      background: var(--white);
      color: var(--text);
      text-decoration: none;
      border-radius: var(--border-radius-sm);
      box-shadow: var(--shadow);
      transition: all 0.3s ease;
      font-weight: 500;
    }

    .quick-action:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
      color: var(--primary);
    }

    .quick-action i {
      font-size: 1.2rem;
    }

    /* Dark Mode */
    body.dark-mode {
      background: #212529; /* Dark background */
      color: #F8F9FA; /* Light text */
    }
    body.dark-mode nav {
      background: rgba(33, 37, 41, 0.95);
      border-bottom-color: rgba(255, 255, 255, 0.1);
    }
    body.dark-mode .card,
    body.dark-mode .contact-form {
      background: #343A40; /* Darker gray for cards/forms */
      color: #F8F9FA;
      border-color: rgba(255, 255, 255, 0.1);
    }
    body.dark-mode .cta-button {
      background: var(--primary-dark);
      color: var(--white);
    }
    body.dark-mode .cta-button.secondary {
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.6);
      color: var(--white);
    }
    body.dark-mode .cta-button.secondary:hover {
      background: rgba(255, 255, 255, 0.1);
    }
    body.dark-mode .form-group input,
    body.dark-mode .form-group select,
    body.dark-mode .form-group textarea {
      background: #212529;
      border-color: rgba(255, 255, 255, 0.1);
      color: #F8F9FA;
    }
    body.dark-mode .section-header h2,
    body.dark-mode .contact-info h3,
    body.dark-mode .contact-form h3,
    body.dark-mode .form-group label {
      color: #F8F9FA;
    }
    body.dark-mode .section-header p,
    body.dark-mode .contact-info p,
    body.dark-mode .card p {
      color: #CED4DA;
    }
    body.dark-mode .quick-action {
      background: #343A40;
      color: #F8F9FA;
    }
    body.dark-mode .quick-action:hover {
      color: var(--primary);
    }
    body.dark-mode .contact-item {
      background: #343A40;
    }
    body.dark-mode .contact-item a {
      color: var(--primary);
    }
    body.dark-mode .contact-item a:hover {
      color: var(--primary-dark);
    }
    body.dark-mode .mobile-menu span {
      background: #F8F9FA;
    }
    body.dark-mode .nav-links a {
      color: #F8F9FA;
    }
    body.dark-mode .nav-links a:hover {
      color: var(--primary);
      background: rgba(255, 255, 255, 0.1);
    }
    body.dark-mode .services {
      background: #212529;
    }
    body.dark-mode .stats {
      background: #343A40;
    }
    body.dark-mode .contact {
      background: #212529;
    }
    body.dark-mode footer {
      background: #343A40;
    }

    /* Rules Library Section */
    .rules-library {
      background: var(--white);
    }
    body.dark-mode .rules-library {
      background: #212529;
    }
    .rule-card {
      background: var(--secondary);
      padding: 2rem;
      border-radius: var(--border-radius-lg);
      box-shadow: var(--shadow);
      transition: all 0.3s ease;
    }
    body.dark-mode .rule-card {
      background: #343A40;
    }
    .rule-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }
    .rule-card h3 {
      color: var(--primary);
      margin-bottom: 1rem;
    }
    .rule-card p {
      color: var(--text-light);
      margin-bottom: 1rem;
    }
    body.dark-mode .rule-card p {
      color: #CED4DA;
    }
    .rule-card a {
      color: var(--accent);
      text-decoration: none;
      font-weight: 600;
    }
    .rule-card a:hover {
      text-decoration: underline;
    }
    .rule-category {
      margin-top: 2rem;
      padding: 1.5rem;
      background: var(--gray-100);
      border-radius: var(--border-radius-md);
    }
    body.dark-mode .rule-category {
      background: #343A40;
    }
    .rule-category h3 {
      color: var(--text);
      margin-bottom: 1rem;
    }
    body.dark-mode .rule-category h3 {
      color: #F8F9FA;
    }
    .rule-category ul {
      list-style: none;
      padding-left: 0;
    }
    .rule-category ul li {
      margin-bottom: 0.5rem;
      color: var(--text-light);
    }
    body.dark-mode .rule-category ul li {
      color: #CED4DA;
    }
    .rule-category ul li a {
      color: var(--primary);
      text-decoration: none;
    }
    .rule-category ul li a:hover {
      text-decoration: underline;
    }

    /* Specific style for the chart card to make it smaller */
    .chart-card {
      /* Inherit grid-column: span 2; from the HTML */
      /* Set a fixed height and width to match other cards more closely */
      min-height: 300px; /* Adjust as needed to match other cards' height */
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 1.5rem; /* Adjust padding for smaller size */
    }
    .chart-card canvas {
      max-height: 200px; /* Max height for the canvas within the card */
      width: 100% !important; /* Ensure canvas takes full width of its container */
      height: auto !important; /* Maintain aspect ratio based on width */
    }
  </style>
</head>
<body>
  <!-- Page Loader -->
  <div id="page-loader">
    <div class="spinner"></div>
  </div>

  <!-- Notification -->
  <div id="notification" class="notification">
    <span id="notification-text"></span>
  </div>

  <!-- Navigation -->
  <nav id="navbar">
    <div class="nav-container">
      <a href="#" class="logo">
        <i class="fas fa-calculator"></i>
        Quick Tax
      </a>
      <ul class="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#services">Services</a></li>
        <li><a href="#tax-calculator">Calculator</a></li>
        <li><a href="#rules-library">Rules Library</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
      <div class="mobile-menu">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </nav>

  <!-- WhatsApp Floating Button -->
  <a href="https://wa.me/917450069060?text=Hi! I need help with tax and accounting services." class="whatsapp-float" target="_blank" title="Chat on WhatsApp">
    <i class="fab fa-whatsapp"></i>
  </a>

  <!-- Hero Section -->
  <section id="home" class="hero loading-section">
    <div class="hero-content">
      <h1>Professional Tax & Accounting Solutions</h1>
      <p>Comprehensive financial services for individuals, businesses, and NRIs. Expert guidance for all your taxation, compliance, and accounting needs with 100% digital processes.</p>
      <div class="hero-buttons">
        <a href="#contact" class="cta-button">
          <i class="fas fa-rocket"></i>
          Get Started Today
        </a>
        <a href="https://wa.me/917450069060?text=Hi! I need help with tax and accounting services." class="cta-button whatsapp" target="_blank">
          <i class="fab fa-whatsapp"></i>
          Chat on WhatsApp
        </a>
        <a href="mailto:quicktax@outlook.in?subject=Tax Services Inquiry" class="cta-button secondary">
          <i class="fas fa-envelope"></i>
          Email Us
        </a>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" class="loading-section">
    <div class="section-header">
      <h2>About Quick Tax</h2>
      <p>We are a modern financial consultancy firm dedicated to providing transparent, affordable, and professional services for all your taxation and accounting requirements.</p>
    </div>
    <div class="cards-grid">
      <div class="card">
        <h3 class="animated-text"><i class="fas fa-users"></i> Expert Team</h3>
        <p>Our qualified Chartered Accountants and tax professionals bring years of experience to handle complex financial matters with precision and care.</p>
      </div>
      <div class="card">
        <h3 class="animated-text"><i class="fas fa-laptop"></i> Digital First</h3>
        <p>100% paperless processes with secure digital document handling, online consultations, and real-time progress tracking for your convenience.</p>
      </div>
      <div class="card">
        <h3 class="animated-text"><i class="fas fa-shield-alt"></i> Comprehensive Services</h3>
        <p>From individual tax filing to business compliance, we offer complete financial solutions under one roof with guaranteed accuracy.</p>
      </div>
    </div>
    <div class="quick-actions">
      <a href="https://wa.me/917450069060?text=I want to know more about your services" class="quick-action">
        <i class="fab fa-whatsapp"></i>
        Quick Chat
      </a>
      <a href="mailto:quicktax@outlook.in?subject=Service Inquiry" class="quick-action">
        <i class="fas fa-envelope"></i>
        Email Query
      </a>
      <a href="tel:+917450069060" class="quick-action">
        <i class="fas fa-phone"></i>
        Call Now
      </a>
    </div>
  </section>

  <!-- Services Section -->
  <section id="services" class="services loading-section">
    <div class="section-header">
      <h2>Our Services</h2>
      <p>Complete range of taxation, accounting, and compliance services tailored to your needs with expert guidance and timely delivery.</p>
    </div>
    <div class="cards-grid">
      <div class="card">
        <div class="service-icon">
          <i class="fas fa-chart-line"></i>
        </div>
        <h3 class="animated-text">Accounting & Bookkeeping</h3>
        <p>Professional bookkeeping services with accurate financial records, monthly reporting, and financial analysis for businesses of all sizes.</p>
      </div>
      <div class="card">
        <div class="service-icon">
          <i class="fas fa-file-invoice-dollar"></i>
        </div>
        <h3 class="animated-text">Income Tax Filing</h3>
        <p>Expert tax return preparation and filing for individuals, businesses, and NRIs with maximum deductions and 100% compliance guarantee.</p>
      </div>
      <div class="card">
        <div class="service-icon">
          <i class="fas fa-receipt"></i>
        </div>
        <h3 class="animated-text">GST Services</h3>
        <p>Complete GST registration, filing, and compliance management with timely returns, input tax credit optimization, and advisory services.</p>
      </div>
      <div class="card">
        <div class="service-icon">
          <i class="fas fa-building"></i>
        </div>
        <h3 class="animated-text">Business Registration</h3>
        <p>End-to-end business setup including company registration, licensing, startup compliance support, and ongoing corporate governance.</p>
      </div>
      <div class="card">
        <div class="service-icon">
          <i class="fas fa-globe"></i>
        </div>
        <h3 class="animated-text">NRI Tax Services</h3>
        <p>Specialized services for Non-Resident Indians including DTAA benefits, foreign income reporting, FEMA compliance, and investment planning.</p>
      </div>
      <div class="card">
        <div class="service-icon">
          <i class="fas fa-piggy-bank"></i>
        </div>
        <h3 class="animated-text">Tax Planning</h3>
        <p>Strategic tax planning and investment advisory to optimize your tax liability, maximize savings, and ensure long-term financial growth.</p>
      </div>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="stats loading-section">
    <div class="section-header">
      <h2>Our Track Record</h2>
      <p>Numbers that speak for our expertise and client satisfaction</p>
    </div>
    <div class="stats-grid">
      <div class="stat-item">
        <h3>500+</h3>
        <p>Happy Clients</p>
      </div>
      <div class="stat-item">
        <h3>1000+</h3>
        <p>Tax Returns Filed</p>
      </div>
      <div class="stat-item">
        <h3>98%</h3>
        <p>Client Satisfaction</p>
      </div>
      <div class="stat-item">
        <h3>5+</h3>
        <p>Years Experience</p>
      </div>
    </div>
  </section>

  <!-- Tax Calculator Section -->
  <section id="tax-calculator" class="services loading-section">
    <div class="section-header">
      <h2>Tax Calculator & Filing Guidelines</h2>
      <p>Compare old vs new regimes and check your ITR filing requirement instantly.</p>
    </div>
    <div class="cards-grid">
      <div class="card" style="grid-column: span 2;">
        <h3 style="margin-bottom: 1rem;">Income Details</h3>
        <div class="form-group">
          <label for="assessmentYear">Select Assessment Year:</label>
          <select id="assessmentYear">
            <option value="2026">AY 2026-27</option>
            <option value="2025">AY 2025-26</option>
            <option value="2024">AY 2024-25</option>
            <option value="2023">AY 2023-24</option>
          </select>
        </div>
        <div class="form-group"><label>Income from Salary:</label><input type="number" id="salary" placeholder="e.g. 700000"></div>
        <div class="form-group"><label>Income from House Property:</label><input type="number" id="house" placeholder="e.g. 100000"></div>
        <div class="form-group"><label>Business/Profession Income:</label><input type="number" id="business" placeholder="e.g. 200000"></div>
        <div class="form-group"><label>Other Sources:</label><input type="number" id="other" placeholder="e.g. 30000"></div>
        <div class="form-group"><label>Long Term Capital Gains (LTCG) on Equity (Sec 112A):</label><input type="number" id="ltcgEquity" placeholder="e.g. 150000"></div>
        <div class="form-group"><label>Other Long Term Capital Gains (LTCG):</label><input type="number" id="ltcgOther" placeholder="e.g. 80000"></div>
        <div class="form-group"><label>Short Term Capital Gains (STCG) on Equity (Sec 111A):</label><input type="number" id="stcgEquity" placeholder="e.g. 70000"></div>
        <div class="form-group"><label>Other Short Term Capital Gains (STCG):</label><input type="number" id="stcgOther" placeholder="e.g. 40000"></div>
        <div class="form-group"><label>Deductions (e.g., 80C, 80D - Old Regime only):</label><input type="number" id="deductions" placeholder="e.g. 150000"></div>
      </div>

      <div class="card" style="grid-column: span 2;">
        <h3 style="margin-bottom: 1rem;">Check for Mandatory Filing</h3>
        <div class="form-group"><label>Cash Deposited in Bank (Current A/c > ₹1Cr, Savings A/c > ₹50L):</label><input type="number" id="cashDeposit" placeholder="e.g. 1200000"></div>
        <div class="form-group"><label>Electricity Bill Paid (> ₹1 Lakh):</label><input type="number" id="electricity" placeholder="e.g. 120000"></div>
        <div class="form-group"><label>Foreign Travel Expenses (> ₹2 Lakh):</label><input type="number" id="travel" placeholder="e.g. 250000"></div>
        <button onclick="calculateTax()" class="submit-btn" style="margin-top: 20px;">
          <i class="fas fa-calculator"></i> Compare & Check Filing
        </button>
      </div>

      <div class="card" style="grid-column: span 2;" id="result"></div>

      <!-- Added for the chart, with new class for styling -->
      <div class="card chart-card" style="grid-column: span 2;">
        <h3>Tax Comparison Chart</h3>
        <canvas id="taxComparisonChart"></canvas>
      </div>

      <div class="card" style="grid-column: span 2;">
        <h3>Guidelines Summary</h3>
        <ul style="padding-left: 1.2rem; line-height: 1.7;">
          <li><b>Accounting:</b> Maintain books if turnover > ₹25L (professionals) or ₹1Cr (business).</li>
          <li><b>GST:</b> Register if turnover > ₹20/40L. File GSTR-1 & 3B regularly.</li>
          <li><b>Indian Tax:</b> ITR mandatory if income > limit or due to high transactions.</li>
          <li><b>NRI:</b> Report foreign income, claim DTAA, and disclose foreign assets.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Rules Library Section -->
  <section id="rules-library" class="rules-library loading-section">
    <div class="section-header">
      <h2>Taxation & Accounting Rules Library</h2>
      <p>Stay updated with the latest tax laws, accounting standards, and compliance requirements. Browse our curated articles and guidelines.</p>
    </div>
    <div class="rules-grid">
      <div class="rule-card">
        <h3 class="animated-text">Income Tax Updates 2026-27</h3>
        <p>Key changes in income tax slabs, deductions, and compliance for the upcoming assessment year 2026-27.</p>
        <a href="https://www.incometax.gov.in/iec/foportal/latest-news" target="_blank" onclick="showNotification('Redirecting to Income Tax Updates...', true); return false;">Read More <i class="fas fa-arrow-right"></i></a>
      </div>
      <div class="rule-card">
        <h3 class="animated-text">GST Compliance Checklist</h3>
        <p>A comprehensive guide to GST registration, monthly filings, and common pitfalls to avoid.</p>
        <a href="https://www.cbic.gov.in/resources//htdocs-cbec/gst/index.html" target="_blank" onclick="showNotification('Redirecting to GST Compliance...', true); return false;">Read More <i class="fas fa-arrow-right"></i></a>
      </div>
      <div class="rule-card">
        <h3 class="animated-text">Accounting Standards (AS & Ind AS)</h3>
        <p>Understanding the Indian Accounting Standards and their applicability for various entities.</p>
        <a href="https://www.icai.org/post/accounting-standards" target="_blank" onclick="showNotification('Redirecting to Accounting Standards...', true); return false;">Read More <i class="fas fa-arrow-right"></i></a>
      </div>
      <div class="rule-card">
        <h3 class="animated-text">TDS/TCS Provisions Explained</h3>
        <p>Detailed explanation of Tax Deducted at Source and Tax Collected at Source rules and rates.</p>
        <a href="https://www.incometax.gov.in/iec/foportal/help/tds-tcs-faqs" target="_blank" onclick="showNotification('Redirecting to TDS/TCS Provisions...', true); return false;">Read More <i class="fas fa-arrow-right"></i></a>
      </div>
    </div>

    <div class="rule-category">
      <h3>Latest Articles & Circulars</h3>
      <ul>
        <li><a href="https://www.incometax.gov.in/iec/foportal/latest-news" target="_blank" onclick="showNotification('Redirecting to Article: New Section 80C Limits...', true); return false;"><i class="fas fa-file-alt"></i> New Section 80C Limits and Eligible Investments (Updated)</a></li>
        <li><a href="https://www.incometax.gov.in/iec/foportal/latest-news" target="_blank" onclick="showNotification('Redirecting to Article: Faceless Assessment Scheme...', true); return false;"><i class="fas fa-file-alt"></i> Faceless Assessment Scheme: What You Need to Know</a></li>
        <li><a href="https://www.startupindia.gov.in/content/sih/en/startup-scheme.html" target="_blank" onclick="showNotification('Redirecting to Article: Startup India Tax Benefits...', true); return false;"><i class="fas fa-file-alt"></i> Tax Benefits for Startups under Startup India Initiative</a></li>
        <li><a href="https://www.rbi.org.in/scripts/FAQView.aspx?Id=100" target="_blank" onclick="showNotification('Redirecting to Article: NRI Repatriation Rules...', true); return false;"><i class="fas fa-file-alt"></i> NRI Repatriation Rules: A Guide to Sending Money Abroad</a></li>
      </ul>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="contact loading-section">
    <div class="section-header">
      <h2>Get In Touch</h2>
      <p>Ready to simplify your tax and accounting needs? Contact our experts today for personalized consultation</p>
    </div>
    <div class="contact-content">
      <div class="contact-info">
        <h3>Contact Information</h3>
        <p>Reach out to us for personalized consultation and expert guidance on all your financial matters. We're here to help you succeed!</p>
        
        <div class="contact-item">
          <div class="icon">
            <i class="fas fa-envelope"></i>
          </div>
          <div>
            <strong>Email:</strong><br>
            <a href="mailto:quicktax@outlook.in?subject=Tax Services Inquiry" class="contact-link-email">quicktax@outlook.in</a>
          </div>
        </div>
        
        <div class="contact-item">
          <div class="icon">
            <i class="fas fa-phone"></i>
          </div>
          <div>
            <strong>Phone:</strong><br>
            <a href="tel:+917450069060" class="contact-link-phone">+91 7450069060</a>
          </div>
        </div>
        
        <div class="contact-item">
          <div class="icon">
            <i class="fab fa-whatsapp"></i>
          </div>
          <div>
            <strong>WhatsApp:</strong><br>
            <a href="https://wa.me/917450069060?text=Hi! I need help with tax and accounting services." target="_blank" class="contact-link-whatsapp">Chat with us instantly</a>
          </div>
        </div>
        
        <div class="contact-item">
          <div class="icon">
            <i class="fas fa-clock"></i>
          </div>
          <div>
            <strong>Business Hours:</strong><br>
            Mon - Sat: 9:00 AM - 6:00 PM<br>
            <small>Emergency support available 24/7</small>
          </div>
        </div>
      </div>
      
      <div class="contact-form">
        <h3>Send us a Message</h3>
        <form id="contactForm">
          <div class="form-group">
            <label for="name">Full Name *</label>
            <input type="text" id="name" name="name" required>
            <div class="form-validation" id="nameValidation"></div>
          </div>
          
          <div class="form-group">
            <label for="email">Email Address *</label>
            <input type="email" id="email" name="email" required>
            <div class="form-validation" id="emailValidation"></div>
          </div>
          
          <div class="form-group">
            <label for="phone">Phone Number</label>
            <input type="tel" id="phone" name="phone" placeholder="+91 XXXXXXXXXX">
            <div class="form-validation" id="phoneValidation"></div>
          </div>
          
          <div class="form-group">
            <label for="service">Service Required *</label>
            <select id="service" name="service" required>
              <option value="">Select a service</option>
              <option value="tax-filing">Income Tax Filing</option>
              <option value="gst-services">GST Services</option>
              <option value="business-registration">Business Registration</option>
              <option value="accounting">Accounting & Bookkeeping</option>
              <option value="nri-services">NRI Tax Services</option>
              <option value="tax-planning">Tax Planning</option>
              <option value="other">Other</option>
            </select>
            <div class="form-validation" id="serviceValidation"></div>
          </div>
          
          <div class="form-group">
            <label for="message">Message *</label>
            <textarea id="message" name="message" rows="4" placeholder="Tell us about your requirements in detail..." required></textarea>
            <div class="form-validation" id="messageValidation"></div>
          </div>
          
          <button type="submit" class="submit-btn" id="submitBtn">
            <div class="spinner"></div>
            <i class="fas fa-paper-plane"></i>
            Send Message
          </button>
        </form>
        
        <div class="quick-actions" style="margin-top: 2rem;">
          <a href="https://wa.me/917450069060?text=Hi! I need urgent help with tax services." class="quick-action contact-link-whatsapp">
            <i class="fab fa-whatsapp"></i>
            Urgent Help
          </a>
          <a href="mailto:quicktax@outlook.in?subject=Quick Question" class="quick-action contact-link-email">
            <i class="fas fa-question-circle"></i>
            Quick Question
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h3>Quick Tax</h3>
        <p>Your trusted partner for all accounting, taxation, and compliance needs. Professional services with modern digital solutions and expert guidance.</p>
        <div style="margin-top: 1rem;">
          <a href="https://wa.me/917450069060" class="contact-link-whatsapp" style="margin-right: 1rem; font-size: 1.5rem; color: var(--whatsapp);">
            <i class="fab fa-whatsapp"></i>
          </a>
          <a href="mailto:quicktax@outlook.in" class="contact-link-email" style="margin-right: 1rem; font-size: 1.5rem; color: var(--primary);">
            <i class="fas fa-envelope"></i>
          </a>
          <a href="tel:+917450069060" class="contact-link-phone" style="font-size: 1.5rem; color: var(--accent);">
            <i class="fas fa-phone"></i>
          </a>
        </div>
      </div>
      
      <div class="footer-section">
        <h3>Quick Services</h3>
        <p><a href="https://wa.me/917450069060?text=I need help with tax filing" class="contact-link-whatsapp">Tax Filing</a></p>
        <p><a href="https://wa.me/917450069060?text=I need help with GST services" class="contact-link-whatsapp">GST Services</a></p>
        <p><a href="https://wa.me/917450069060?text=I need help with business registration" class="contact-link-whatsapp">Business Registration</a></p>
        <p><a href="https://wa.me/917450069060?text=I need help with NRI services" class="contact-link-whatsapp">NRI Services</a></p>
      </div>
      
      <div class="footer-section">
        <h3>Contact Info</h3>
        <p><i class="fas fa-envelope"></i> <span class="contact-link-email-text">quicktax@outlook.in</span></p>
        <p><i class="fas fa-phone"></i> <span class="contact-link-phone-text">+91 7450069060</span></p>
        <p><i class="fab fa-whatsapp"></i> WhatsApp Available</p>
        <p><i class="fas fa-clock"></i> Mon - Sat: 9:00 AM - 6:00 PM</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 Quick Tax. All rights reserved. | Professional Tax & Accounting Services | 
      <a href="https://wa.me/917450069060?text=I need help" class="contact-link-whatsapp" style="color: var(--accent);">Get Help on WhatsApp</a></p>
    </div>
  </footer>

  <button id="themeToggle" style="position:fixed;bottom:80px;right:20px;padding:10px 14px;border-radius:8px;border:none;background:var(--primary);color:#fff;cursor:pointer;z-index:999;">🌙</button>

  <script>
    // Global functions and variables
    const ADMIN_EMAIL = 'quicktax@outlook.in';
    let taxChart; // Global variable to store the chart instance

    // Utility functions
    function validateEmail(email) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    }

    function validatePhone(phone) {
      const phoneRegex = /^[\+]?[1-9][\d]{0,15}$/;
      return phoneRegex.test(phone.replace(/\s/g, ''));
    }

    function validateName(name) {
      return name.trim().length >= 2;
    }

    function showNotification(message, isSuccess = true) {
      const notification = document.getElementById('notification');
      const text = document.getElementById('notification-text');
      
      text.textContent = message;
      notification.className = `notification ${isSuccess ? '' : 'error'}`;
      notification.classList.add('show');
      
      setTimeout(() => {
        notification.classList.remove('show');
      }, 4000);
    }

    function sendAdminNotification(subject, body) {
      console.log("Admin Email Notification Sent (Simulated):");
      console.log("Subject:", subject);
      console.log("Body:", body);
    }

    // Page Loader Logic
    window.addEventListener('load', () => {
      const pageLoader = document.getElementById('page-loader');
      pageLoader.classList.add('hidden');
      // Allow some time for the loader to fade out before removing it from DOM
      setTimeout(() => {
        pageLoader.remove();
        // Show welcome notification after loader is gone
        showNotification('Welcome to Quick Tax! Need immediate help? Click the WhatsApp button below.', true);
      }, 800); // Matches the transition duration
    });

    // Navbar scroll effect
    window.addEventListener('scroll', () => {
      const navbar = document.getElementById('navbar');
      if (window.scrollY > 50) {
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
    });

    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Loading animation on scroll for sections
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.opacity = '1';
          entry.target.style.transform = 'translateY(0)';
          // Add animation to specific elements within the section
          entry.target.querySelectorAll('.animated-text').forEach((el, index) => {
            el.style.animation = `slideInUp 0.8s ease-out ${index * 0.1}s forwards`;
          });
        }
      });
    }, observerOptions);

    document.querySelectorAll('.loading-section').forEach(el => {
      el.style.opacity = '0';
      el.style.transform = 'translateY(20px)';
      el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
      observer.observe(el);
    });

    // Contact Form Validation and Submission
    function showValidation(elementId, message, isValid) {
      const element = document.getElementById(elementId);
      const input = document.getElementById(elementId.replace('Validation', ''));
      
      element.textContent = message;
      element.className = `form-validation ${isValid ? 'success' : 'error'}`;
      input.className = isValid ? 'success' : 'error';
      
      setTimeout(() => {
        if (isValid) {
          element.style.display = 'none';
          input.className = '';
        }
      }, 3000);
    }

    document.getElementById('name').addEventListener('input', function() {
      const name = this.value.trim();
      if (name.length > 0) {
        if (validateName(name)) {
          showValidation('nameValidation', 'Name looks good!', true);
        } else {
          showValidation('nameValidation', 'Name must be at least 2 characters long', false);
        }
      }
    });

    document.getElementById('email').addEventListener('input', function() {
      const email = this.value.trim();
      if (email.length > 0) {
        if (validateEmail(email)) {
          showValidation('emailValidation', 'Valid email address!', true);
        } else {
          showValidation('emailValidation', 'Please enter a valid email address', false);
        }
      }
    });

    document.getElementById('phone').addEventListener('input', function() {
      const phone = this.value.trim();
      if (phone.length > 0) {
        if (validatePhone(phone)) {
          showValidation('phoneValidation', 'Valid phone number!', true);
        } else {
          showValidation('phoneValidation', 'Please enter a valid phone number', false);
        }
      }
    });

    document.getElementById('contactForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const formData = new FormData(this);
      const data = Object.fromEntries(formData);
      
      let isValid = true;
      
      if (!validateName(data.name)) {
        showValidation('nameValidation', 'Name is required and must be at least 2 characters', false);
        isValid = false;
      }
      
      if (!validateEmail(data.email)) {
        showValidation('emailValidation', 'Please enter a valid email address', false);
        isValid = false;
      }
      
      if (!data.service) {
        showValidation('serviceValidation', 'Please select a service', false);
        isValid = false;
      }
      
      if (!data.message.trim()) {
        showValidation('messageValidation', 'Message is required', false);
        isValid = false;
      }
      
      if (data.phone && !validatePhone(data.phone)) {
        showValidation('phoneValidation', 'Please enter a valid phone number', false);
        isValid = false;
      }
      
      if (!isValid) {
        return;
      }
      
      const submitBtn = document.getElementById('submitBtn');
      const originalText = submitBtn.innerHTML;
      
      submitBtn.classList.add('loading');
      submitBtn.innerHTML = '<div class="spinner"></div>Sending...';
      submitBtn.disabled = true;
      
      const whatsappMessage = `Hi! I'm ${data.name}. I need help with ${data.service}. \n\nEmail: ${data.email}\n${data.phone ? `Phone: ${data.phone}\n` : ''}\nMessage: ${data.message}`;
      const emailSubject = `Tax Services Inquiry - ${data.service}`;
      const emailBody = `Name: ${data.name}\nEmail: ${data.email}\n${data.phone ? `Phone: ${data.phone}\n` : ''}Service: ${data.service}\n\nMessage:\n${data.message}`;
      
      setTimeout(() => {
        showNotification('Message sent successfully! We will get back to you soon.', true);
        this.reset();
        submitBtn.classList.remove('loading');
        submitBtn.innerHTML = originalText;
        submitBtn.disabled = false;
        
        document.querySelectorAll('.form-validation').forEach(el => { el.style.display = 'none'; });
        document.querySelectorAll('input, select, textarea').forEach(el => { el.className = ''; });
        
        sendAdminNotification(`New Contact Form Submission from ${data.name}`, emailBody);

      }, 2000);
    });

    // Counter animation for stats
    function animateCounter(element, target, duration = 2000) {
      const start = 0;
      const increment = target / (duration / 16);
      let current = start;
      
      const timer = setInterval(() => {
        current += increment;
        if (current >= target) {
          current = target;
          clearInterval(timer);
        }
        
        let displayValue = Math.floor(current);
        if (element.textContent.includes('%')) {
          element.textContent = displayValue + '%';
        } else {
          element.textContent = displayValue + '+';
        }
      }, 16);
    }

    const statsObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const counters = entry.target.querySelectorAll('.stat-item h3');
          counters.forEach(counter => {
            const target = parseInt(counter.textContent);
            animateCounter(counter, target);
          });
          statsObserver.unobserve(entry.target);
        }
      });
    }, { threshold: 0.5 });

    const statsSection = document.querySelector('.stats');
    if (statsSection) {
      statsObserver.observe(statsSection);
    }

    // Direct interaction for phone, email, whatsapp links
    document.querySelectorAll('.contact-link-phone').forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const phoneNumber = this.getAttribute('href').replace('tel:', '');
        window.location.href = `tel:${phoneNumber}`;
      });
    });

    document.querySelectorAll('.contact-link-email').forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const emailAddress = this.getAttribute('href').replace('mailto:', '');
        window.location.href = `mailto:${emailAddress}`;
      });
    });

    document.querySelectorAll('.contact-link-whatsapp').forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const whatsappUrl = this.getAttribute('href');
        window.open(whatsappUrl, '_blank');
      });
    });

    // For text elements that should trigger actions
    document.querySelectorAll('.contact-link-phone-text').forEach(span => {
        span.style.cursor = 'pointer';
        span.addEventListener('click', function() {
            window.location.href = `tel:${this.textContent.trim()}`;
        });
    });

    document.querySelectorAll('.contact-link-email-text').forEach(span => {
        span.style.cursor = 'pointer';
        span.addEventListener('click', function() {
            window.location.href = `mailto:${this.textContent.trim()}`;
        });
    });


    // Mobile menu functionality
    const mobileMenu = document.querySelector('.mobile-menu');
    const navLinks = document.querySelector('.nav-links');

    if (mobileMenu) {
      mobileMenu.addEventListener('click', function() {
        navLinks.style.display = navLinks.style.display === 'flex' ? 'none' : 'flex';
      });
    }

    // Service-specific WhatsApp links
    document.querySelectorAll('.service-icon').forEach((icon, index) => {
      const services = [
        'accounting and bookkeeping',
        'income tax filing',
        'GST services',
        'business registration',
        'NRI tax services',
        'tax planning'
      ];
      
      icon.addEventListener('click', function() {
        const message = `Hi! I'm interested in your ${services[index]} services. Can you help me?`;
        // For now, directly open WhatsApp
        window.open(`https://wa.me/917450069060?text=${encodeURIComponent(message)}`, '_blank');
      });
      
      icon.style.cursor = 'pointer';
      icon.title = `Click to chat about ${services[index]}`;
    });

    // Tax Calculator Logic
    function calculateTax() {
      const year = parseInt(document.getElementById("assessmentYear").value);
      const salary = parseFloat(document.getElementById("salary").value) || 0;
      const house = parseFloat(document.getElementById("house").value) || 0;
      const business = parseFloat(document.getElementById("business").value) || 0;
      const other = parseFloat(document.getElementById("other").value) || 0;
      const ltcgEquity = parseFloat(document.getElementById("ltcgEquity").value) || 0; // Sec 112A
      const ltcgOther = parseFloat(document.getElementById("ltcgOther").value) || 0; // Other LTCG
      const stcgEquity = parseFloat(document.getElementById("stcgEquity").value) || 0; // Sec 111A
      const stcgOther = parseFloat(document.getElementById("stcgOther").value) || 0; // Other STCG
      let deductions = parseFloat(document.getElementById("deductions").value) || 0;

      const cashDeposit = parseFloat(document.getElementById("cashDeposit").value) || 0;
      const electricity = parseFloat(document.getElementById("electricity").value) || 0;
      const travel = parseFloat(document.getElementById("travel").value) || 0;

      const grossTotalIncome = salary + house + business + other + ltcgEquity + ltcgOther + stcgEquity + stcgOther;

      // --- Old Regime Calculation ---
      let taxableIncomeOld = salary + house + business + other;
      let taxOnNormalIncomeOld = 0;
      let taxOnLTCGEquityOld = 0;
      let taxOnLTCGOtherOld = 0;
      let taxOnSTCGEquityOld = 0;
      let taxOnSTCGOtherOld = 0;

      // Apply standard deduction for salary income in Old Regime
      const standardDeductionOld = (salary > 0 && year >= 2024) ? Math.min(50000, salary) : 0; // Standard deduction for salary
      taxableIncomeOld = Math.max(0, taxableIncomeOld - standardDeductionOld);

      // Apply other deductions (80C, 80D etc.)
      taxableIncomeOld = Math.max(0, taxableIncomeOld - deductions);

      // Tax on Capital Gains (Old Regime)
      // LTCG Equity (Sec 112A)
      if (ltcgEquity > 0) {
          const ltcgEquityTaxable = Math.max(0, ltcgEquity - (Math.max(0, 250000 - taxableIncomeOld))); // Utilize basic exemption limit
          taxOnLTCGEquityOld = Math.max(0, (ltcgEquityTaxable - 100000) * 0.10); // 10% on gains over 1 Lakh
      }
      // Other LTCG (20%)
      taxOnLTCGOtherOld = ltcgOther * 0.20;

      // STCG Equity (Sec 111A)
      if (stcgEquity > 0) {
          const stcgEquityTaxable = Math.max(0, stcgEquity - (Math.max(0, 250000 - taxableIncomeOld))); // Utilize basic exemption limit
          taxOnSTCGEquityOld = stcgEquityTaxable * 0.15; // 15%
      }
      // Other STCG (slab rates) - added to normal income for slab calculation
      taxableIncomeOld += stcgOther;

      // Calculate tax on normal income (including other STCG)
      taxOnNormalIncomeOld = calculateSlabTaxOldRegime(taxableIncomeOld, year);

      let totalTaxOld = taxOnNormalIncomeOld + taxOnLTCGEquityOld + taxOnLTCGOtherOld + taxOnSTCGEquityOld;
      totalTaxOld = applyRebateAndCess(totalTaxOld, grossTotalIncome, year, 'old');
      totalTaxOld = applySurcharge(totalTaxOld, grossTotalIncome);


      // --- New Regime Calculation ---
      let taxableIncomeNew = salary + house + business + other;
      let taxOnNormalIncomeNew = 0;
      let taxOnLTCGEquityNew = 0;
      let taxOnLTCGOtherNew = 0;
      let taxOnSTCGEquityNew = 0;
      let taxOnSTCGOtherNew = 0;

      // Apply standard deduction for salary income in New Regime
      let standardDeductionNew = 0;
      if (salary > 0) {
          if (year >= 2025) { // A.Y. 2025-26 onwards
              standardDeductionNew = Math.min(75000, salary);
          } else if (year === 2024) { // A.Y. 2024-25
              standardDeductionNew = Math.min(50000, salary);
          }
      }
      taxableIncomeNew = Math.max(0, taxableIncomeNew - standardDeductionNew);

      // Tax on Capital Gains (New Regime) - same rates as old regime
      // LTCG Equity (Sec 112A)
      if (ltcgEquity > 0) {
          const ltcgEquityTaxableNew = Math.max(0, ltcgEquity - (Math.max(0, 300000 - taxableIncomeNew))); // Utilize basic exemption limit (new regime)
          taxOnLTCGEquityNew = Math.max(0, (ltcgEquityTaxableNew - 100000) * 0.10); // 10% on gains over 1 Lakh
      }
      // Other LTCG (20%)
      taxOnLTCGOtherNew = ltcgOther * 0.20;

      // STCG Equity (Sec 111A)
      if (stcgEquity > 0) {
          const stcgEquityTaxableNew = Math.max(0, stcgEquity - (Math.max(0, 300000 - taxableIncomeNew))); // Utilize basic exemption limit (new regime)
          taxOnSTCGEquityNew = stcgEquityTaxableNew * 0.15; // 15%
      }
      // Other STCG (slab rates) - added to normal income for slab calculation
      taxableIncomeNew += stcgOther;

      // Calculate tax on normal income (including other STCG)
      taxOnNormalIncomeNew = calculateSlabTaxNewRegime(taxableIncomeNew, year);

      let totalTaxNew = taxOnNormalIncomeNew + taxOnLTCGEquityNew + taxOnLTCGOtherNew + taxOnSTCGEquityNew;
      totalTaxNew = applyRebateAndCess(totalTaxNew, grossTotalIncome, year, 'new');
      totalTaxNew = applySurcharge(totalTaxNew, grossTotalIncome);


      const filingMandatory =
        grossTotalIncome > 250000 || // Basic exemption limit for individuals (can vary by age, but 2.5L is common base)
        cashDeposit > 1000000 ||
        electricity > 100000 ||
        travel > 200000;

      let regimeRecommendation = '';
      if (totalTaxOld < totalTaxNew) {
          regimeRecommendation = '<span style="color: var(--success); font-weight: bold;">Old Regime is likely better for you.</span>';
      } else if (totalTaxNew < totalTaxOld) {
          regimeRecommendation = '<span style="color: var(--success); font-weight: bold;">New Regime is likely better for you.</span>';
      } else {
          regimeRecommendation = '<span style="color: var(--warning); font-weight: bold;">Both regimes result in similar tax.</span>';
      }

      const resultHTML = `
        <h3>Tax Comparison (AY ${year}-${(year + 1).toString().slice(-2)})</h3>
        <b>Gross Total Income:</b> ₹${grossTotalIncome.toLocaleString('en-IN')}<br>
        <b>Deductions (Old Regime):</b> ₹${deductions.toLocaleString('en-IN')}<br><br>
        
        <h4>Old Regime:</h4>
        <ul>
            <li>Normal Taxable Income: ₹${taxableIncomeOld.toLocaleString('en-IN')}</li>
            <li>Tax on Normal Income: ₹${taxOnNormalIncomeOld.toFixed(2).toLocaleString('en-IN')}</li>
            <li>Tax on LTCG Equity (112A): ₹${taxOnLTCGEquityOld.toFixed(2).toLocaleString('en-IN')}</li>
            <li>Tax on Other LTCG: ₹${taxOnLTCGOtherOld.toFixed(2).toLocaleString('en-IN')}</li>
            <li>Tax on STCG Equity (111A): ₹${taxOnSTCGEquityOld.toFixed(2).toLocaleString('en-IN')}</li>
            <li><strong>Total Tax (incl. Cess & Surcharge):</strong> ₹${totalTaxOld.toFixed(2).toLocaleString('en-IN')}</li>
        </ul>
        
        <h4>New Regime:</h4>
        <ul>
            <li>Normal Taxable Income: ₹${taxableIncomeNew.toLocaleString('en-IN')}</li>
            <li>Tax on Normal Income: ₹${taxOnNormalIncomeNew.toFixed(2).toLocaleString('en-IN')}</li>
            <li>Tax on LTCG Equity (112A): ₹${taxOnLTCGEquityNew.toFixed(2).toLocaleString('en-IN')}</li>
            <li>Tax on Other LTCG: ₹${taxOnLTCGOtherNew.toFixed(2).toLocaleString('en-IN')}</li>
            <li>Tax on STCG Equity (111A): ₹${taxOnSTCGEquityNew.toFixed(2).toLocaleString('en-IN')}</li>
            <li><strong>Total Tax (incl. Cess & Surcharge):</strong> ₹${totalTaxNew.toFixed(2).toLocaleString('en-IN')}</li>
        </ul>
        
        <h3>Recommendation:</h3>
        ${regimeRecommendation}<br><br>
        <h3>ITR Filing Required?</h3>
        ${
          filingMandatory
            ? '<span style="color: var(--success);">✅ Yes, ITR filing is mandatory based on your inputs.</span>'
            : '<span style="color: var(--error);">❌ No, not mandatory based on your inputs.</span>'
        }
        <p style="font-size: 0.9em; color: var(--text-light); margin-top: 1em;">
            *Note: This is a simplified calculation. Actual tax liability may vary based on specific income sources, other deductions, and applicable surcharges. Capital gains calculations are simplified and do not include indexation benefits or loss set-off. Consult a tax professional for personalized advice.
        </p>
      `;

      document.getElementById("result").innerHTML = resultHTML;

      // Render the chart with final total tax values
      renderTaxChart(totalTaxOld, taxableIncomeOld, totalTaxNew, taxableIncomeNew);
    }

    function calculateSlabTaxOldRegime(income, year) {
      let tax = 0;
      let basicExemption = 250000; // For individuals below 60

      // For simplicity, we'll use 2.5L as base. If age input was available, we could refine.
      // The problem statement implies fixing old regime calculations according to income tax slabs.
      // The existing slab structure for old regime is generally correct for individuals below 60.

      if (income <= basicExemption) {
          tax = 0;
      } else if (income <= 500000) {
          tax = (income - basicExemption) * 0.05;
      } else if (income <= 1000000) {
          tax = 12500 + (income - 500000) * 0.20;
      } else {
          tax = 112500 + (income - 1000000) * 0.30;
      }
      return tax;
    }

    function calculateSlabTaxNewRegime(income, year) {
      let tax = 0;
      let slabs;

      if (year >= 2024) { // For AY 2024-25, AY 2025-26, and AY 2026-27
        slabs = [
          { limit: 300000, rate: 0 },
          { limit: 600000, rate: 0.05 },
          { limit: 900000, rate: 0.10 },
          { limit: 1200000, rate: 0.15 },
          { limit: 1500000, rate: 0.20 },
          { limit: Infinity, rate: 0.30 }
        ];
      } else if (year === 2023) { // For AY 2023-24
        slabs = [
          { limit: 250000, rate: 0 },
          { limit: 500000, rate: 0.05 },
          { limit: 750000, rate: 0.10 },
          { limit: 1000000, rate: 0.15 },
          { limit: 1250000, rate: 0.20 },
          { limit: 1500000, rate: 0.25 },
          { limit: Infinity, rate: 0.30 }
        ];
      } else {
          return 0;
      }

      let remainingIncome = income;
      let prevSlabLimit = 0;

      for (let i = 0; i < slabs.length; i++) {
        const slab = slabs[i];
        const currentSlabLimit = slab.limit;
        const rate = slab.rate;

        if (remainingIncome > prevSlabLimit) {
          const taxableInThisSlab = Math.min(remainingIncome, currentSlabLimit) - prevSlabLimit;
          tax += taxableInThisSlab * rate;
        }
        prevSlabLimit = currentSlabLimit;
        if (remainingIncome <= currentSlabLimit) break;
      }
      return tax;
    }

    function applyRebateAndCess(taxBeforeRebate, totalIncome, year, regime) {
        let rebate87A = 0;
        const cessRate = 0.04; // 4% Health and Education Cess

        if (regime === 'old') {
            if (year >= 2023 && totalIncome <= 500000) { // Rebate u/s 87A for income up to 5 Lakhs
                rebate87A = Math.min(taxBeforeRebate, 12500);
            }
        } else { // New Regime
            if (year >= 2024 && totalIncome <= 700000) { // Rebate u/s 87A for income up to 7 Lakhs (New Regime)
                rebate87A = Math.min(taxBeforeRebate, 25000);
            } else if (year === 2023 && totalIncome <= 500000) { // Rebate u/s 87A for income up to 5 Lakhs (New Regime)
                rebate87A = Math.min(taxBeforeRebate, 12500);
            }
        }

        let finalTax = taxBeforeRebate - rebate87A;
        if (finalTax < 0) finalTax = 0; // Tax cannot be negative

        // Add Health and Education Cess
        finalTax += finalTax * cessRate;
        return finalTax;
    }

    function applySurcharge(taxAmount, totalIncome) {
        let surchargeRate = 0;
        if (totalIncome > 50000000) { // Above 5 Crore
            surchargeRate = 0.37;
        } else if (totalIncome > 20000000) { // Above 2 Crore
            surchargeRate = 0.25;
        } else if (totalIncome > 10000000) { // Above 1 Crore
            surchargeRate = 0.15;
        } else if (totalIncome > 5000000) { // Above 50 Lakhs
            surchargeRate = 0.10;
        }
        return taxAmount + (taxAmount * surchargeRate);
    }


    function renderTaxChart(totalTaxOld, taxableIncomeOld, totalTaxNew, taxableIncomeNew) {
      const ctx = document.getElementById('taxComparisonChart').getContext('2d');

      if (taxChart) {
        taxChart.destroy(); // Destroy existing chart if it exists
      }

      taxChart = new Chart(ctx, {
        type: 'bar', // Bar chart for easier comparison
        data: {
          labels: ['Old Regime', 'New Regime'],
          datasets: [
            {
              label: 'Taxable Income (₹)',
              data: [taxableIncomeOld, taxableIncomeNew],
              backgroundColor: 'rgba(0, 123, 255, 0.7)',   // Primary Blue for Taxable Income
              borderColor: 'rgba(0, 123, 255, 1)',
              borderWidth: 1
            },
            {
              label: 'Total Tax (₹)',
              data: [totalTaxOld, totalTaxNew],
              backgroundColor: 'rgba(40, 167, 69, 0.7)',    // Accent Green for Total Tax
              borderColor: 'rgba(40, 167, 69, 1)',
              borderWidth: 1
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false, // Allow chart to resize freely within its container
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: 'Amount (₹)',
                font: {
                  size: 12,
                  weight: 'bold'
                }
              },
              ticks: {
                font: {
                  size: 10
                },
                callback: function(value, index, values) {
                  // Format y-axis labels for better readability (e.g., 100000 -> 1L)
                  if (value >= 10000000) return (value / 10000000).toFixed(1) + ' Cr';
                  if (value >= 100000) return (value / 100000).toFixed(1) + ' L';
                  if (value >= 1000) return (value / 1000).toFixed(1) + ' K';
                  return value;
                }
              }
            },
            x: {
                grid: {
                    display: false // Hide x-axis grid lines for cleaner look
                },
                ticks: {
                  font: {
                    size: 11,
                    weight: 'bold'
                  }
                }
            }
          },
          plugins: {
            legend: {
              display: true, // Show legend to differentiate bars
              position: 'top',
              labels: {
                font: {
                  size: 12
                }
              }
            },
            tooltip: {
              callbacks: {
                label: function(context) {
                  let label = context.dataset.label || '';
                  if (label) {
                    label += ': ';
                  }
                  if (context.parsed.y !== null) {
                    label += '₹' + context.parsed.y.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
                  }
                  return label;
                },
                title: function(context) {
                  return context[0].label;
                }
              },
              titleFont: {
                size: 14,
                weight: 'bold'
              },
              bodyFont: {
                size: 12
              },
              padding: 10,
              boxPadding: 5
            }
          }
        }
      });
    }

    // Theme Toggle
    document.getElementById('themeToggle').addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
    });
  </script>
</body>
</html>
